{"version":3,"sources":["components/mystyle.module.css","components/UploadPage.tsx","components/ListPage.tsx","components/VideoPage.tsx","components/useAsync.tsx","api/web3.ts","contexts/Web3.tsx","Home.tsx","Images/icon.png","Nav.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","UploadPage","props","componentDidMount","fetchRecent","axios","get","then","response","setState","recentImage","data","image","catch","err","alert","uploadImage","state","uploadedImage","name","caption","trim","description","formData","FormData","append","post","success","message","uploadedImageUrl","className","styles","Upload_Title","Upload__InputSection","type","Upload__Caption","placeholder","onChange","event","target","value","this","Upload__Description","URL","createObjectURL","files","onClick","Upload__Button","PureComponent","ListPage","imageList","images","deleteFile","id","filter","el","_id","banner","bannercontainer","bannercontainerreal","bannerheading","bannercontents","listpage","map","file","ListImage","src","filename","width","height","controls","ImageBox__Caption","createdAt","ListImage__Delete","VideoPage","fetchVideo","window","location","href","split","pop","currentVideo","currentVideoDate","slice","currentVideoTime","Recent","videoTitle","Date","videoDescription","videolist","useAsync","req","useState","pending","error","params","a","call","unlockAccount","ethereum","Error","web3","Web3","enable","eth","getAccounts","accounts","account","INITIAL_STATE","netId","UPDATE_ACCOUNT","UPDATE_NET_ID","reducer","action","Web3Context","createContext","updateAccount","_data","updateNetId","useWeb3Context","useContext","Provider","children","useReducer","dispatch","useMemo","Updater","useEffect","callback","setInterval","clearInterval","subscribeToAccount","console","undefined","reload","net","getId","subscribeToNetId","Home","changeMessage","_message","onClickConnect","Nav","Hohey","alt","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","videos","push","ReactDOM","render","StrictMode","video","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.66e114ce.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"listpage\":\"mystyle_listpage__6uExV\",\"videoplayer\":\"mystyle_videoplayer__34qZu\",\"ListImage\":\"mystyle_ListImage__19BmL\",\"UploadPage\":\"mystyle_UploadPage__1vcxK\",\"Recent\":\"mystyle_Recent__Wi5bl\",\"Upload\":\"mystyle_Upload__E6wNO\",\"ImageBox\":\"mystyle_ImageBox__JahK9\",\"Recent_Title\":\"mystyle_Recent_Title__3qpeR\",\"ListImage__Delete\":\"mystyle_ListImage__Delete__EPLrN\",\"ListPage__Title\":\"mystyle_ListPage__Title__2nNsO\",\"Upload_Title\":\"mystyle_Upload_Title__t1veT\",\"CaptionBox\":\"mystyle_CaptionBox__1g3Iq\",\"ImageBox__Caption\":\"mystyle_ImageBox__Caption__3H3BY\",\"Upload__InputSection\":\"mystyle_Upload__InputSection__2KL8z\",\"Upload__Button\":\"mystyle_Upload__Button__WvXa1\",\"bannerheading\":\"mystyle_bannerheading__2awb4\",\"bannercontents\":\"mystyle_bannercontents__1jxrl\",\"banner\":\"mystyle_banner__RMMmF\",\"bannercontainer\":\"mystyle_bannercontainer__67gZb\",\"bannercontainerreal\":\"mystyle_bannercontainerreal__15FNf\",\"videoTitle\":\"mystyle_videoTitle__2BEGC\",\"videoDescription\":\"mystyle_videoDescription__1kyiS\",\"videolist\":\"mystyle_videolist__1cUMm\",\"Date\":\"mystyle_Date__2CvNx\",\"Upload__Caption\":\"mystyle_Upload__Caption__pV4zX\",\"Upload__Description\":\"mystyle_Upload__Description__18Qfj\"};","import React, { PureComponent } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport styles from './mystyle.module.css'; \n\ninterface UploadState {\n    recentImage: any;\n    caption: string;\n    description:string;\n    uploadedImageUrl: string;\n    uploadedImage: any;\n};\n\nclass UploadPage extends PureComponent<{}, UploadState> {\n    constructor(props: {}) {\n        super(props);\n\n        this.state = {\n            recentImage: {},\n            caption: '',\n            description: '',\n            uploadedImageUrl: '',\n            uploadedImage: {},\n        };\n    }\n\n    componentDidMount = () => {\n        this.fetchRecent();\n    }\n\n    fetchRecent = () => {\n        axios.get('/api/recent')\n            .then((response) => {\n                this.setState({ recentImage: response.data.image });\n            })\n            .catch(err => alert('Error: ' + err));\n    }\n\n    uploadImage = () => {\n\n        if (!this.state.uploadedImage.name) {\n            return alert('Video is missing');\n        } else if (!this.state.caption.trim()) {\n            return alert('Video title is missing');\n        } else if (!this.state.description.trim()) {\n            return alert('Video description is missing');\n        }\n\n        let formData = new FormData();\n        formData.append('caption', this.state.caption);\n        formData.append('description', this.state.description);\n        formData.append('file', this.state.uploadedImage);\n\n        axios.post('/api/', formData)\n            .then((response) => {\n                response.data.success ? alert(response.data.message) : alert(response.data.message);\n                this.fetchRecent();\n            })\n            .catch(err => alert('Error: ' + err));\n    }\n\n    render() {\n        return (\n            <div className={styles.UploadPage}>\n                    <p className={styles.Upload_Title}>Upload Video</p>\n                    <div className={styles.Upload__InputSection}>\n                        <div>\n                        <input\n                            type=\"text\"\n                            className={styles.Upload__Caption}\n                            placeholder=\"Enter video title...\"\n                            onChange={event => this.setState({ caption: event.target.value })}\n                            value={this.state.caption}\n                        />\n                        </div>\n                        <br/>\n                        <div>\n                        <textarea\n                            className={styles.Upload__Description}\n                            placeholder=\"Enter video description...\"\n                            onChange={event => this.setState({ description: event.target.value })}\n                            value={this.state.description}\n                        ></textarea>\n                        </div>\n                        <br/>\n                        <input\n                            type=\"file\"\n                            className=\"Upload__Input\"\n                            onChange={(event: any) => {\n                                this.setState({\n                                    uploadedImageUrl: URL.createObjectURL(event.target.files[0]),\n                                    uploadedImage: event.target.files[0],\n                                })\n                            }}\n                        />\n                    </div>\n\n                    <button onClick={this.uploadImage} className={styles.Upload__Button}>Upload</button>\n            </div>\n        );\n    }\n}\n\nexport default UploadPage;","import React, { PureComponent } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport styles from './mystyle.module.css'; \n\ninterface ListState {\n    imageList: any[];\n};\n\nclass ListPage extends PureComponent<{}, ListState> {\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            imageList: [],\n        };\n    }\n\n    componentDidMount = () => {\n        axios.get('/api/')\n            .then(response => {\n                this.setState({ imageList: response.data.images });\n            })\n            .catch(err => alert(err));\n    }\n\n    deleteFile = (id: any) => {\n        axios.get('/api/delete/' + id) \n            .then((response) => {\n                if (response.data.success) {\n                    alert('Video with ID: ' + id + ' has been deleted');\n                    this.setState({ imageList: this.state.imageList.filter(el => el._id !== id)});\n                }\n            })\n            .catch(err => alert(err));\n    }\n\n    render() {\n        return (\n            <div>\n            <div className={styles.banner}>\n                <br/>\n            <div className={styles.bannercontainer}>\n                <div className={styles.bannercontainerreal}>\n                <p className={styles.bannerheading}>HoHey</p>\n                <p className={styles.bannercontents}>HoHey is where your film assets are preserved, displayed, and celebrated - all the while you earn passive income.</p>\n                </div>\n            </div>\n            </div>\n            <div className=\"ListPage\">\n                <div className={styles.listpage}>\n                    {this.state.imageList.map((file) => (\n                        <div className={styles.ListImage}>\n\n                                <video src={'/api/image/' + file.filename}\n                                className=\"ListImage__Image\"  width = \"320\" height = \"180\" controls>\n                                </video>\n\n                            <p className={styles.ImageBox__Caption}>{file.caption}</p>\n                            <p className=\"ListImage__Date\">Date: {file.createdAt}</p>\n                            <button className={styles.ListImage__Delete} onClick={() => this.deleteFile(file._id)}>Delete</button>\n                        </div>\n                    ))}\n                </div>\n            </div>\n            </div>\n        );\n    }\n}\n\nexport default ListPage;","import React, { PureComponent } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport styles from './mystyle.module.css'; \n\ninterface VideoState {\n    currentVideo: any;\n    currentVideoDate: string;\n    currentVideoTime: string;\n    imageList: any[];\n};\n\nclass VideoPage extends  PureComponent<{}, VideoState> {\n    constructor(props: {}) {\n        super(props);\n\n        this.state = {\n            currentVideo: {},\n            currentVideoDate: '',\n            currentVideoTime: '',\n            imageList: [],\n        };\n    }\n\n    componentDidMount = () => {\n        this.fetchVideo( window.location.href.split(\"/video/\").pop());\n        axios.get('/api/')\n            .then(response => {\n                this.setState({ imageList: response.data.images });\n            })\n            .catch(err => alert(err));\n    }\n\n    fetchVideo = (filename:any) => {\n        axios.get('/api/video/' + filename)\n            .then((response) => {\n                this.setState({ currentVideo: response.data.image });\n                this.setState({currentVideoDate: response.data.image.createdAt.slice(0, -14)})\n                this.setState({currentVideoTime: response.data.image.createdAt.slice(11, -5)})\n            })\n            .catch(err => alert('Error: ' + err));\n    }\n\n    render() {\n        return (\n            <div>\n                <div>\n                    <br/>\n                    <div className={styles.Recent}>\n                        <video src={'/api/image/' + this.state.currentVideo.filename} className=\"videoplayer\"  width = \"960\" height = \"600\" controls>\n                        </video>\n                        <br/><br/>\n                        <b className = {styles.videoTitle}>{this.state.currentVideo.caption}</b> \n                        <b className = {styles.Date}>{this.state.currentVideoDate + '  '}</b>\n                        <b>{this.state.currentVideoTime}</b>\n                        <br/><br/><hr></hr>\n                        <p className = {styles.videoDescription}>{this.state.currentVideo.description}</p>\n                    </div>\n                </div>\n                <div className={styles.videolist}>\n                    {this.state.imageList.map((file) => (\n                        <div className={styles.ListImage}>\n                            <a href={'/video/' + file.filename}>\n                                <img src={'/api/image/' + file.filename}\n                                className=\"ListImage__Image\"  width = \"320\" height = \"180\" >\n                                </img>\n                            </a>\n                            <p className={styles.ImageBox__Caption}>{file.caption}</p>\n                            <p className=\"ListImage__Date\">Date: {file.createdAt}</p>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default VideoPage;","import { useState } from \"react\";\n\ninterface State<Response> {\n  pending: boolean;\n  error: Error | null;\n  data: Response | null;\n}\n\ninterface CallResponse<Response> {\n  data?: Response;\n  error?: Error;\n}\n\ninterface UseAsync<Params, Response> extends State<Response> {\n  call: (params: Params) => Promise<CallResponse<Response>>;\n}\n\nfunction useAsync<Params, Response>(\n  req: (params: Params) => Promise<Response>\n): UseAsync<Params, Response> {\n  const [state, setState] = useState<State<Response>>({\n    pending: false,\n    error: null,\n    data: null,\n  });\n\n  async function call(params: Params): Promise<CallResponse<Response>> {\n    setState((state) => ({\n      ...state,\n      pending: true,\n      data: null,\n      error: null,\n    }));\n\n    try {\n      const data = await req(params);\n\n      setState((state) => ({\n        ...state,\n        pending: false,\n        data,\n      }));\n\n      return { data };\n    } catch (error) {\n      setState((state) => ({\n        ...state,\n        pending: false,\n        error,\n      }));\n\n      return { error };\n    }\n  }\n\n  return {\n    ...state,\n    call,\n  };\n}\n\nexport default useAsync;\n\n","import Web3 from \"web3\";\n\n// https://github.com/MetaMask/faq/blob/master/DEVELOPERS.md\nexport async function unlockAccount() {\n  // @ts-ignore\n  const { ethereum } = window;\n\n  if (!ethereum) {\n    throw new Error(\"Web3 not found\");\n  }\n\n  const web3 = new Web3(ethereum);\n  await ethereum.enable();\n\n  const accounts = await web3.eth.getAccounts();\n\n  return { web3, account: accounts[0] || \"\" };\n}\n\nexport function subscribeToAccount(\n  web3: Web3,\n  callback: (error: Error | null, account: string | null) => any\n) {\n  const id = setInterval(async () => {\n    try {\n      const accounts = await web3.eth.getAccounts();\n      callback(null, accounts[0]);\n    } catch (error) {\n      callback(error, null);\n    }\n  }, 1000);\n\n  return () => {\n    clearInterval(id);\n  };\n}\n\nexport function subscribeToNetId(\n  web3: Web3,\n  callback: (error: Error | null, netId: number | null) => any\n) {\n  const id = setInterval(async () => {\n    try {\n      const netId = await web3.eth.net.getId();\n      callback(null, netId);\n    } catch (error) {\n      callback(error, null);\n    }\n  }, 1000);\n\n  return () => {\n    clearInterval(id);\n  };\n}\n","import React, {\n  createContext,\n  useContext,\n  useEffect,\n  useMemo,\n  useReducer,\n} from \"react\";\nimport Web3 from \"web3\";\nimport { subscribeToAccount, subscribeToNetId } from \"../api/web3\";\n\ninterface State {\n  account: string;\n  web3: Web3 | null;\n  netId: number;\n}\n\nconst INITIAL_STATE: State = {\n  account: \"\",\n  web3: null,\n  netId: 0,\n};\n\nconst UPDATE_ACCOUNT = \"UPDATE_ACCOUNT\";\nconst UPDATE_NET_ID = \"UPDATE_NET_ID\";\n\ninterface UpdateAccount {\n  type: \"UPDATE_ACCOUNT\";\n  account: string;\n  web3?: Web3;\n}\n\ninterface UpdateNetId {\n  type: \"UPDATE_NET_ID\";\n  netId: number;\n}\n\ntype Action = UpdateAccount | UpdateNetId;\n\nfunction reducer(state: State = INITIAL_STATE, action: Action) {\n  switch (action.type) {\n    case UPDATE_ACCOUNT: {\n      const web3 = action.web3 || state.web3;\n      const { account } = action;\n\n      return {\n        ...state,\n        web3,\n        account,\n      };\n    }\n    case UPDATE_NET_ID: {\n      const { netId } = action;\n\n      return {\n        ...state,\n        netId,\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nconst Web3Context = createContext({\n  state: INITIAL_STATE,\n  updateAccount: (_data: { account: string; web3?: Web3 }) => {},\n  updateNetId: (_data: { netId: number }) => {},\n});\n\nexport function useWeb3Context() {\n  return useContext(Web3Context);\n}\n\ninterface ProviderProps {}\n\nexport const Provider: React.FC<ProviderProps> = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, INITIAL_STATE);\n\n  function updateAccount(data: { account: string; web3?: Web3 }) {\n    dispatch({\n      type: UPDATE_ACCOUNT,\n      ...data,\n    });\n  }\n\n  function updateNetId(data: { netId: number }) {\n    dispatch({\n      type: UPDATE_NET_ID,\n      ...data,\n    });\n  }\n\n  return (\n    <Web3Context.Provider\n      value={useMemo(\n        () => ({\n          state,\n          updateAccount,\n          updateNetId,\n        }),\n        [state]\n      )}\n    >\n      {children}\n    </Web3Context.Provider>\n  );\n};\n\nexport function Updater() {\n  const { state, updateNetId } = useWeb3Context();\n\n  useEffect(() => {\n    if (state.web3) {\n      const unsubscribe = subscribeToAccount(state.web3, (error, account) => {\n        if (error) {\n          console.error(error);\n        }\n        if (account !== undefined && account !== state.account) {\n          window.location.reload();\n        }\n      });\n\n      return unsubscribe;\n    }\n  }, [state.web3, state.account]);\n\n  useEffect(() => {\n    if (state.web3) {\n      const unsubscribe = subscribeToNetId(state.web3, (error, netId) => {\n        if (error) {\n          console.error(error);\n        }\n        if (netId) {\n          if (state.netId === 0) {\n            updateNetId({ netId });\n          } else if (netId !== state.netId) {\n            window.location.reload();\n          }\n        }\n      });\n\n      return unsubscribe;\n    }\n  }, [state.web3, state.netId, updateNetId]);\n\n  return null;\n}\n","import React, { PureComponent } from \"react\";\nimport { useState, useEffect }from \"react\";\nimport useAsync from \"./components/useAsync\";\nimport { unlockAccount } from \"./api/web3\";\nimport { useWeb3Context } from \"./contexts/Web3\";\nimport 'semantic-ui-css/semantic.min.css';\nimport './App.css';\nimport axios from 'axios';\n\nfunction Home()  {\n\n  function changeMessage(_message:any){\n\n    let formData = new FormData();\n      formData.append('MMaccount', _message);\n\n      axios.post('/api/user', formData)\n        .then((response) => {\n            response.data.success ? alert(response.data.message) : alert(response.data.message);\n        })\n        .catch(err => alert('Error: ' + err));\n  }\n\n  const {\n    state: { account },\n    updateAccount\n  } = useWeb3Context();\n  \n  \n  const { pending, error, call } = useAsync(unlockAccount);\n  \n\n  async function onClickConnect() {\n    const { error, data } = await call(null);\n\n    if (error) {\n      console.error(error);\n      window.location.href = \"https://metamask.io/download.html\";\n    }\n    if (data) {\n      updateAccount(data);\n      changeMessage({account});\n    }\n  }\n  \n  return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <br/> \n          <p onChange={() => changeMessage({account})}  className = \"address\">Account address: {account}</p>\n          <button\n          className =\"button\"\n            onClick={() => onClickConnect()}\n          >Connect to Metamask</button>\n        </div>\n      </div>\n    );\n}\n\nexport default Home;\n","export default __webpack_public_path__ + \"static/media/icon.425bbe5c.png\";","import React from 'react';\nimport './App.css';\nimport { Link } from 'react-router-dom';\nimport Hohey from './Images/icon.png';\n\nfunction Nav() {\n  return (\n    <> \n      <div className=\"topnav\">\n        <img className = \"icon\" src = {Hohey} alt = \"Hohey\"/>\n        <li className = \"list\"><Link to=\"/\">\n          Home\n        </Link>\n        </li>\n        <li className = \"list\"><Link to=\"/upload\">\n          Upload video\n        </Link>\n        </li>\n        <li className = \"listright\"><Link to=\"/connectwallet\">\n          Connect wallet\n        </Link>\n        </li>\n     </div>\n    </>\n  );\n}\n\nexport default Nav;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport UploadPage from './components/UploadPage';\nimport ListPage from './components/ListPage';\nimport VideoPage from './components/VideoPage';\nimport Home from './Home';\nimport Nav from './Nav';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport {\n  Provider as Web3Provider,\n  Updater as Web3Updater,\n} from \"./contexts/Web3\";\nimport axios from 'axios';\n\nvar videos:any[] = [{filename: ''},];\naxios.get('/api/')\n  .then((response) => {\n    videos.push({\n      filename:response.data.images.filename,\n    })\n  })\n  .catch(err => alert(err));\n     \nReactDOM.render(\n  <React.StrictMode>\n    <Router >\n    <Web3Provider>\n      <Nav />\n      <Switch>\n      {videos.map(video => (<Route path={'/video/' + video.filename} component={VideoPage} />))}\n        <Route path=\"/connectwallet\" component={Home} />\n        <Route path=\"/upload\" component={UploadPage} />\n        <Route path=\"/\" component={ListPage} />\n        </Switch>\n      <Web3Updater />\n    </Web3Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}