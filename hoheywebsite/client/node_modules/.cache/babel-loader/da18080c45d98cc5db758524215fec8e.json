{"ast":null,"code":"var _jsxFileName = \"/Users/kelvinho/Documents/Coding/HoHey-main 4 2/hoheywebsite/client/src/components/ListPage.tsx\";\nimport React, { PureComponent } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport styles from './mystyle.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n;\n\nclass ListPage extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      axios.get('http://localhost:9890/').then(response => {\n        this.setState({\n          imageList: response.data.images\n        });\n      }).catch(err => alert(err));\n    };\n\n    this.deleteFile = id => {\n      axios.get('http://localhost:9890/delete/' + id).then(response => {\n        if (response.data.success) {\n          alert('File with ID: ' + id + ' has been deleted');\n          this.setState({\n            imageList: this.state.imageList.filter(el => el._id !== id)\n          });\n        }\n      }).catch(err => alert(err));\n    };\n\n    this.state = {\n      imageList: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ListPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.ListPage__Title,\n        children: \"Video list\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.listpage,\n        children: this.state.imageList.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.ListImage,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"ListImage__Caption\",\n            children: file.caption\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"ListImage__Date\",\n            children: [\"Date: \", file.createdAt]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n            src: 'http://localhost:9890/image/' + file.filename,\n            className: \"ListImage__Image\",\n            width: \"320\",\n            height: \"240\",\n            controls: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.ListImage__Delete,\n            onClick: () => this.deleteFile(file._id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ListPage;","map":{"version":3,"sources":["/Users/kelvinho/Documents/Coding/HoHey-main 4 2/hoheywebsite/client/src/components/ListPage.tsx"],"names":["React","PureComponent","axios","styles","ListPage","constructor","props","componentDidMount","get","then","response","setState","imageList","data","images","catch","err","alert","deleteFile","id","success","state","filter","el","_id","render","ListPage__Title","listpage","map","file","ListImage","caption","createdAt","filename","ListImage__Delete"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAIC;;AAED,MAAMC,QAAN,SAAuBH,aAAvB,CAAoD;AAChDI,EAAAA,WAAW,CAACC,KAAD,EAAa;AACpB,UAAMA,KAAN;;AADoB,SAQxBC,iBARwB,GAQJ,MAAM;AACtBL,MAAAA,KAAK,CAACM,GAAN,CAAU,wBAAV,EACKC,IADL,CACUC,QAAQ,IAAI;AACd,aAAKC,QAAL,CAAc;AAAEC,UAAAA,SAAS,EAAEF,QAAQ,CAACG,IAAT,CAAcC;AAA3B,SAAd;AACH,OAHL,EAIKC,KAJL,CAIWC,GAAG,IAAIC,KAAK,CAACD,GAAD,CAJvB;AAKH,KAduB;;AAAA,SAgBxBE,UAhBwB,GAgBVC,EAAD,IAAa;AACtBjB,MAAAA,KAAK,CAACM,GAAN,CAAU,kCAAkCW,EAA5C,EACKV,IADL,CACWC,QAAD,IAAc;AAChB,YAAIA,QAAQ,CAACG,IAAT,CAAcO,OAAlB,EAA2B;AACvBH,UAAAA,KAAK,CAAC,mBAAmBE,EAAnB,GAAwB,mBAAzB,CAAL;AACA,eAAKR,QAAL,CAAc;AAAEC,YAAAA,SAAS,EAAE,KAAKS,KAAL,CAAWT,SAAX,CAAqBU,MAArB,CAA4BC,EAAE,IAAIA,EAAE,CAACC,GAAH,KAAWL,EAA7C;AAAb,WAAd;AACH;AACJ,OANL,EAOKJ,KAPL,CAOWC,GAAG,IAAIC,KAAK,CAACD,GAAD,CAPvB;AAQH,KAzBuB;;AAGpB,SAAKK,KAAL,GAAa;AACTT,MAAAA,SAAS,EAAE;AADF,KAAb;AAGH;;AAqBDa,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BACI;AAAG,QAAA,SAAS,EAAEtB,MAAM,CAACuB,eAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI;AAAK,QAAA,SAAS,EAAEvB,MAAM,CAACwB,QAAvB;AAAA,kBACK,KAAKN,KAAL,CAAWT,SAAX,CAAqBgB,GAArB,CAA0BC,IAAD,iBACtB;AAAK,UAAA,SAAS,EAAE1B,MAAM,CAAC2B,SAAvB;AAAA,kCACI;AAAG,YAAA,SAAS,EAAC,oBAAb;AAAA,sBAAmCD,IAAI,CAACE;AAAxC;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAG,YAAA,SAAS,EAAC,iBAAb;AAAA,iCAAsCF,IAAI,CAACG,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAO,YAAA,GAAG,EAAE,iCAAiCH,IAAI,CAACI,QAAlD;AACI,YAAA,SAAS,EAAC,kBADd;AACkC,YAAA,KAAK,EAAG,KAD1C;AACgD,YAAA,MAAM,EAAG,KADzD;AAC+D,YAAA,QAAQ;AADvE;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAMI;AAAQ,YAAA,SAAS,EAAE9B,MAAM,CAAC+B,iBAA1B;AAA6C,YAAA,OAAO,EAAE,MAAM,KAAKhB,UAAL,CAAgBW,IAAI,CAACL,GAArB,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADH;AADL;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAkBH;;AA/C+C;;AAkDpD,eAAepB,QAAf","sourcesContent":["import React, { PureComponent } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport styles from './mystyle.module.css'; \n\ninterface ListState {\n    imageList: any[];\n};\n\nclass ListPage extends PureComponent<{}, ListState> {\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            imageList: [],\n        };\n    }\n\n    componentDidMount = () => {\n        axios.get('http://localhost:9890/')\n            .then(response => {\n                this.setState({ imageList: response.data.images });\n            })\n            .catch(err => alert(err));\n    }\n\n    deleteFile = (id: any) => {\n        axios.get('http://localhost:9890/delete/' + id) \n            .then((response) => {\n                if (response.data.success) {\n                    alert('File with ID: ' + id + ' has been deleted');\n                    this.setState({ imageList: this.state.imageList.filter(el => el._id !== id)});\n                }\n            })\n            .catch(err => alert(err));\n    }\n\n    render() {\n        return (\n            <div className=\"ListPage\">\n                <p className={styles.ListPage__Title}>Video list</p>\n\n                <div className={styles.listpage}>\n                    {this.state.imageList.map((file) => (\n                        <div className={styles.ListImage}>\n                            <p className=\"ListImage__Caption\">{file.caption}</p>\n                            <p className=\"ListImage__Date\">Date: {file.createdAt}</p>\n                            <video src={'http://localhost:9890/image/' + file.filename}\n                                className=\"ListImage__Image\"  width = \"320\" height = \"240\" controls>\n                        </video>\n                            <button className={styles.ListImage__Delete} onClick={() => this.deleteFile(file._id)}>Delete</button>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ListPage;"]},"metadata":{},"sourceType":"module"}