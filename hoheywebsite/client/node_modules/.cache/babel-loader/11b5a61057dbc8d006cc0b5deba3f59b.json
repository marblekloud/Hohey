{"ast":null,"code":"var _jsxFileName = \"/Users/kelvinho/Documents/Coding/HoHey-main 4 2/hoheywebsite/client/src/components/ListPage.tsx\";\nimport React, { PureComponent } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n;\n\nclass ListPage extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      axios.get('http://localhost:9890/').then(response => {\n        this.setState({\n          imageList: response.data.images\n        });\n      }).catch(err => alert(err));\n    };\n\n    this.deleteFile = id => {\n      axios.get('http://localhost:9890/delete/' + id).then(response => {\n        if (response.data.success) {\n          alert('File with ID: ' + id + ' has been deleted');\n          this.setState({\n            imageList: this.state.imageList.filter(el => el._id !== id)\n          });\n        }\n      }).catch(err => alert(err));\n    };\n\n    this.state = {\n      imageList: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ListPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ListPage__Title\",\n        children: \"List of Files/Images\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"inline\"\n        },\n        className: \"ListImageContainer\",\n        children: this.state.imageList.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ListImage\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"ListImage__Caption\",\n            children: file.caption\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"ListImage__Date\",\n            children: file.createdAt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n            src: 'http://localhost:9890/image/' + file.filename,\n            className: \"ListImage__Image\",\n            width: \"320\",\n            height: \"240\",\n            controls: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ListImage__Delete\",\n            onClick: () => this.deleteFile(file._id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ListPage;","map":{"version":3,"sources":["/Users/kelvinho/Documents/Coding/HoHey-main 4 2/hoheywebsite/client/src/components/ListPage.tsx"],"names":["React","PureComponent","axios","ListPage","constructor","props","componentDidMount","get","then","response","setState","imageList","data","images","catch","err","alert","deleteFile","id","success","state","filter","el","_id","render","display","map","file","caption","createdAt","filename"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAIC;;AAED,MAAMC,QAAN,SAAuBF,aAAvB,CAAoD;AAChDG,EAAAA,WAAW,CAACC,KAAD,EAAa;AACpB,UAAMA,KAAN;;AADoB,SAQxBC,iBARwB,GAQJ,MAAM;AACtBJ,MAAAA,KAAK,CAACK,GAAN,CAAU,wBAAV,EACKC,IADL,CACUC,QAAQ,IAAI;AACd,aAAKC,QAAL,CAAc;AAAEC,UAAAA,SAAS,EAAEF,QAAQ,CAACG,IAAT,CAAcC;AAA3B,SAAd;AACH,OAHL,EAIKC,KAJL,CAIWC,GAAG,IAAIC,KAAK,CAACD,GAAD,CAJvB;AAKH,KAduB;;AAAA,SAgBxBE,UAhBwB,GAgBVC,EAAD,IAAa;AACtBhB,MAAAA,KAAK,CAACK,GAAN,CAAU,kCAAkCW,EAA5C,EACKV,IADL,CACWC,QAAD,IAAc;AAChB,YAAIA,QAAQ,CAACG,IAAT,CAAcO,OAAlB,EAA2B;AACvBH,UAAAA,KAAK,CAAC,mBAAmBE,EAAnB,GAAwB,mBAAzB,CAAL;AACA,eAAKR,QAAL,CAAc;AAAEC,YAAAA,SAAS,EAAE,KAAKS,KAAL,CAAWT,SAAX,CAAqBU,MAArB,CAA4BC,EAAE,IAAIA,EAAE,CAACC,GAAH,KAAWL,EAA7C;AAAb,WAAd;AACH;AACJ,OANL,EAOKJ,KAPL,CAOWC,GAAG,IAAIC,KAAK,CAACD,GAAD,CAPvB;AAQH,KAzBuB;;AAGpB,SAAKK,KAAL,GAAa;AACTT,MAAAA,SAAS,EAAE;AADF,KAAb;AAGH;;AAqBDa,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BACI;AAAG,QAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,OAAO,EAAE;AAAV,SAAZ;AAAiC,QAAA,SAAS,EAAC,oBAA3C;AAAA,kBACK,KAAKL,KAAL,CAAWT,SAAX,CAAqBe,GAArB,CAA0BC,IAAD,iBACtB;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,kCACI;AAAG,YAAA,SAAS,EAAC,oBAAb;AAAA,sBAAmCA,IAAI,CAACC;AAAxC;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAG,YAAA,SAAS,EAAC,iBAAb;AAAA,sBAAgCD,IAAI,CAACE;AAArC;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAO,YAAA,GAAG,EAAE,iCAAiCF,IAAI,CAACG,QAAlD;AACI,YAAA,SAAS,EAAC,kBADd;AACkC,YAAA,KAAK,EAAG,KAD1C;AACgD,YAAA,MAAM,EAAG,KADzD;AAC+D,YAAA,QAAQ;AADvE;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAOI;AAAQ,YAAA,SAAS,EAAC,mBAAlB;AAAsC,YAAA,OAAO,EAAE,MAAM,KAAKb,UAAL,CAAgBU,IAAI,CAACJ,GAArB,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADH;AADL;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAmBH;;AAhD+C;;AAmDpD,eAAepB,QAAf","sourcesContent":["import React, { PureComponent } from 'react';\nimport './App.css';\nimport axios from 'axios';\n\ninterface ListState {\n    imageList: any[];\n};\n\nclass ListPage extends PureComponent<{}, ListState> {\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            imageList: [],\n        };\n    }\n\n    componentDidMount = () => {\n        axios.get('http://localhost:9890/')\n            .then(response => {\n                this.setState({ imageList: response.data.images });\n            })\n            .catch(err => alert(err));\n    }\n\n    deleteFile = (id: any) => {\n        axios.get('http://localhost:9890/delete/' + id) \n            .then((response) => {\n                if (response.data.success) {\n                    alert('File with ID: ' + id + ' has been deleted');\n                    this.setState({ imageList: this.state.imageList.filter(el => el._id !== id)});\n                }\n            })\n            .catch(err => alert(err));\n    }\n\n    render() {\n        return (\n            <div className=\"ListPage\">\n                <p className=\"ListPage__Title\">List of Files/Images</p>\n\n                <div style={{display: \"inline\"}} className=\"ListImageContainer\">\n                    {this.state.imageList.map((file) => (\n                        <div className=\"ListImage\">\n                            <p className=\"ListImage__Caption\">{file.caption}</p>\n                            <p className=\"ListImage__Date\">{file.createdAt}</p>\n                            <video src={'http://localhost:9890/image/' + file.filename}\n                                className=\"ListImage__Image\"  width = \"320\" height = \"240\" controls>\n                        </video>\n\n                            <button className=\"ListImage__Delete\" onClick={() => this.deleteFile(file._id)}>Delete</button>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ListPage;"]},"metadata":{},"sourceType":"module"}